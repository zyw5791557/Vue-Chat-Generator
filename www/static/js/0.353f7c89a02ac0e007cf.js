webpackJsonp([0],{600:function(t,e,a){"use strict";function s(t){a(629)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(610),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);var o=a(644),c=a(236),l=s,u=c(i.a,o.a,!1,l,"data-v-f566b922",null);e.default=u.exports},610:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(631),i=s(n),r=a(237),o=a(632),c=s(o),l=a(634),u=s(l),d=a(636),m=s(d),f=a(638),v=s(f),h=a(640),g=s(h),p=void 0;e.default={name:"Chat",components:{PanelRoomNoticeModule:c.default,PanelRoomInfoModule:u.default,PanelExpressionModule:m.default,PanelUserInfoModule:v.default,ContactsModule:g.default},data:function(){return{message:"",code:"",chatGroup:["all"],chatPanelFlag:!0,secretPanel:!1}},watch:{currentChatData:function(t){var e=this;this.$nextTick(function(){e.chatPanelAdjust(),e.codeBlockAdjust(),e.imageAdjust(),e.imagePreview()})},latestMessage:function(t){this.userTip(t)},chatPanelFlag:function(t){this.$store.commit("UPDATE_LYRICSTATE",!this.chatPanelFlag)},chatPanelState:function(t){}},computed:{userInfo:function(){return this.$store.state.userInfo||this.$store.state.touristInfo},userPanelInfo:function(){return this.$store.state.userPanelInfo},onlineUsers:function(){return this.$store.state.onlineUsers},myUserListArr:function(){return this.$store.state.myUserListArr},currentChatData:function(){return this.$store.state.currentChatData},currentChatUserInfo:function(){return this.$store.state.currentChatUserInfo},userList:function(){return this.$store.state.userList},latestMessage:function(){return this.$store.state.latestMessage},loading:function(){return this.$store.state.loading},userPanelState:function(){return this.$store.state.userPanelState},roomNoticeState:function(){return this.$store.state.roomNoticeState},roomInfoState:function(){return this.$store.state.roomInfoState},expressionState:function(){return this.$store.state.expressionState},codeInputState:function(){return this.$store.state.codeInputState},chatPanelState:function(){return this.$store.state.chatPanelState},contactsPanelLock:function(){return this.$store.state.contactsPanelState}},methods:{userInfoUpdate:function(){this.$store.commit("UPDATE_USERINFO",JSON.parse(localStorage.getItem("UserInfo")))},loadChatPanel:function(t){var e=this;if(console.log("加载聊天面板",t),console.log(this.chatGroup.indexOf(t.userID)),t.userID!==this.currentChatUserInfo.userID){this.myUserListArr[t.userID]&&this.$store.commit("UPDATE_MYUSERLISTARR",{userID:t.userID}),this.$store.commit("UPDATE_LOADING",!0);var a=!1;this.userList.map(function(e){e.userID===t.userID&&(a=!0)}),a||(this.$store.commit("UPDATE_MYUSERLISTARR",{key:t.userID,value:{noRead:0}}),this.$store.commit("UPDATE_USERLIST",t)),this.takeMessage({from:this.userInfo.name,take:t.userID});t.name,t.userID,t.avatar;this.$store.commit("UPDATE_CURRENTCHATUSERINFO",t),-1!==this.chatGroup.indexOf(t.userID)?(this.chatPanelFlag=!1,this.secretPanel=!1):(this.chatPanelFlag=!1,this.secretPanel=!0),this.$nextTick(function(){e.$refs.inputMsg.focus()})}},unfinished:function(){this.$notify.info({title:"消息",message:"暂未开放"})},normalSmartProcess:function(t,e){var a=t.match(/^(https?|ftp|file):\/\//g),s=t.match(/.*(\.png|\.jpg|\.jpeg)$/),n=t.match(/.*(\.gif)$/);return null!==a&&null!==s?(console.log(t),'\n                    <div class="image">\n                        <img data-original="http://localhost:8989/api/imgload?url='+t+'" src="http://localhost:8989/api/imgload?url='+t+'" onerror="this.src=\'/static/images/imgError.jpg\'" style="max-height: 200px;">\n                    </div>\n                '):null!==a&&null!==n?'\n                    <div class="image">\n                        <img class="gif-image" data-original="http://localhost:8989/api/imgload?url='+t+'" src="http://localhost:8989/api/imgload?url='+t+'" onerror="this.src=\'/static/images/imgError.jpg\'" style="max-height: 200px;">\n                    </div>\n                ':null!==a?'\n                    <div class="text">\n                        <a class="imageURL" href="'+t+'" rel="noopener noreferrer" target="_blank">'+t+"</a>\n                    </div>\n                ":'\n                    <div class="text">\n                        '+t+"\n                    </div>\n                "},expressionProcess:function(t){var e=this.$store.state.expression.baidu.data,a=this.$store.state.expression.baidu.space,s=this.$STATIC_URL+this.$store.state.expression.baidu.address,n=void 0;n="expression"===t.type?t.message:t.message.substr(1);var i=void 0;return e.some(function(t,e){t===n&&(i=e)}),void 0===i?t.message:'<img \n                        class="expression-default-message" \n                        src="data:image/png;base64,R0lGODlhFAAUAIAAAP///wAAACH5BAEAAAAALAAAAAAUABQAAAIRhI+py+0Po5y02ouz3rz7rxUAOw==" \n                        style="background-position: left -'+i*a+"px; background-image: url("+s+')" \n                        onerror="this.style.display=\'none\'">'},userTip:function(t){var e=this;console.log("小提示",t),"all"===t.to?this.userList.find(function(a){if(a.userID===t.to)return e.$set(a.messageInfo,"message",t.from+"： "+(0,r.noticeProcess)(t.message,t.type)),void e.$set(a.messageInfo,"date",new i.default(t.date).format("hh:mm"))}):this.userList.find(function(a){if(a.userID===t.from||a.userID===t.to)return e.$set(a.messageInfo,"message",t.from+"： "+(0,r.noticeProcess)(t.message,t.type)),void e.$set(a.messageInfo,"date",new i.default(t.date).format("hh:mm"))})},sendMessage:function(t,e,a){var s={from:this.userInfo.name,avatar:this.userInfo.avatar,to:this.currentChatUserInfo.userID,message:t,type:e,date:(new i.default).getTime(),read:!1};console.log("消息",s),this.$store.commit("SOCKET_MESSAGE_EMIT",s),this[a]="","code"===a&&this.$store.commit("UPDATE_CODEINPUTSTATE",!1)},takeMessage:function(t){this.$store.commit("SOCKET_TAKE_MESSAGES_EMIT",t)},getUserPanel:function(t){if(null!==this.$store.state.touristInfo)return(0,r.touristTips)();"游客"!==t.slice(0,2)&&t!==this.userInfo.name&&this.$store.commit("SOCKET_TAKEUSERINFO_EMIT",t)},chatPanelAdjust:function(){this.$refs.messageList&&(this.$refs.messageList.scrollTop=this.$refs.messageList.scrollHeight)},codeBlockAdjust:function(){if(this.$refs.codeBlock)for(var t=0;t<this.$refs.codeBlock.length;t++)hljs.highlightBlock(this.$refs.codeBlock[t])},imageAdjust:function(){var t=this;if(this.$refs.messageList&&this.$refs.messageList){var e=imagesLoaded(this.$refs.messageList);e.on("always",function(e){console.log("加载完成"),t.chatPanelAdjust()}),e.on("progress",function(e,a){t.chatPanelAdjust()})}},imagePreviewHandle:function(){return new Viewer(this.$refs.messageList,{url:"data-original",toolbar:4,filter:function(t){return!(t.classList.contains("avatar-image")||t.classList.contains("expression-default-message")||t.classList.contains("gif-image"))}})},imagePreview:function(){if(this.$refs.preview&&0!==this.$refs.preview.length){var t=this.imagePreviewHandle();t.destroy(),t=this.imagePreviewHandle()}},imgReader:function(t){var e=this,a=t.getAsFile();if(null!==a&&a.size>1572864)return void this.$notify.error({title:"错误",message:"图片太大, 请压缩后重新上传~"});if(null===a)return void this.$notify.error({title:"错误",message:"请截图重新上传~"});var s=new FormData;s.append("ps",a),this.getApi("printscreen",{method:"POST",data:s,headers:{"Content-Type":"multipart/form-data"}}).then(function(t){var a=t.data.Code,s=t.data.Str;if(0===a){var n=t.data.ps,r=e.currentChatUserInfo.userID,o={from:e.userInfo.name,avatar:e.userInfo.avatar,to:r,message:""+n,type:"printscreen",date:(new i.default).getTime(),read:!1};e.$store.commit("SOCKET_MESSAGE_EMIT",o)}else if(-1===a)return void e.$notify.error({title:"错误",message:s})})},pasteMsg:function(t){var e=(t.clipboardData||t.originalEvent.clipboardData).items;if((t.clipboardData||t.originalEvent.clipboardData).types.indexOf("Files")>-1){for(var a=0;a<e.length;a++){var s=e[a];"file"===s.kind&&s.type.match(/^image/)&&this.imgReader(s)}t.preventDefault()}},openContactsList:function(){if(null!==this.$store.state.touristInfo)return(0,r.touristTips)();this.$store.commit("UPDATE_CONTACTSPANELSTATE",!0)},typingEmit:function(){var t=this,e=this.userInfo.name,a=this.currentChatUserInfo.userID,s=!1;s||(this.$store.commit("SOCKET_TYPING_EMIT",{from:e,to:a}),s=!0),p=(new i.default).getTime(),setTimeout(function(){(new i.default).getTime()-p>=400&&s&&(t.$store.commit("SOCKET_STOPTYPING_EMIT",{from:e,to:a}),s=!0)},400)}},created:function(){this.$store.commit("SOCKET_OFFLINE_NOREAD_MESSAGES_EMIT",this.userInfo.name),this.$store.commit("SOCKET_CONTACTS_UPDATE_EMIT",this.userInfo.name)}}},611:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"PanelRoomNoticeModule",data:function(){return{}}}},612:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"PanelRoomInfoModule",props:{data:{type:Array,required:!0}},data:function(){return{}},computed:{loadData:function(){return this.data}}}},613:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"PanelExpressionModule",data:function(){return{baidu_address:this.$STATIC_URL+"/images/expressions/baidu.png"}},computed:{}}},614:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"PanelUserInfoModule",props:{data:{type:Object,required:!0}},filters:{sexFilter:function(t){return"male"===t?"男":"女"},birthdayFilter:function(t){return(new Date).getFullYear()-new Date(t).getFullYear()<=0?1:(new Date).getFullYear()-new Date(t).getFullYear()},placeFilter:function(t){return""===t?"火星":t}},computed:{loadData:function(){return this.data}},methods:{loadChat:function(){var t={name:this.loadData.Data.name,userID:this.loadData.Data.name,avatar:this.loadData.Data.avatar,unread:0,messageInfo:{}};this.$emit("chat",t),this.$emit("close")}},mounted:function(){console.log(this.loadData)}}},615:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ContactsModule",props:{lock:{type:Boolean,required:!0}},data:function(){return{open:!1,bottomNav:"contacts",searchVal:""}},watch:{lock:function(){this.toggle()}},computed:{contactsListState:function(){return"contacts"===this.bottomNav},myContactsList:function(){return this.$store.state.myContactsList},searchUserRes:function(){return this.$store.state.searchUserRes}},methods:{toggle:function(){this.open=!this.open},handleChange:function(t){this.bottomNav=t},searchUser:function(){this.$store.commit("SOCKET_SEARCH_USER_EMIT",this.searchVal)},addContacts:function(t){this.$store.commit("SOCKET_ADD_CONTACTS_EMIT",t)},loadChat:function(t){var e={name:t.name,userID:t.name,avatar:t.avatar,unread:0,messageInfo:{}};this.$emit("loadChatPanel",e),this.toggle()}}}},629:function(t,e,a){var s=a(630);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(596)("415e2877",s,!0,{})},630:function(t,e,a){e=t.exports=a(595)(!1),e.push([t.i,".scale-enter-active[data-v-f566b922],.scale-leave-active[data-v-f566b922]{transition:all .3s}.scale-enter[data-v-f566b922],.scale-leave-to[data-v-f566b922]{opacity:0;transform:scale(0)}.silde-rightIn-enter-active[data-v-f566b922]{transition:all .3s ease}.silde-rightIn-leave-active[data-v-f566b922]{transition:all .3s cubic-bezier(1,.5,.8,1)}.silde-rightIn-enter[data-v-f566b922],.silde-rightIn-leave-to[data-v-f566b922]{transform:translateX(340px)}",""])},631:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t},e.default=Date},632:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(611),n=a.n(s);for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);var r=a(633),o=a(236),c=o(n.a,r.a,!1,null,null,null);e.default=c.exports},633:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"float-panel roomNoticePanel"},[a("div",[a("span",[t._v("群公告")]),t._v(" "),a("i",{staticClass:"icon close",on:{click:function(e){t.$emit("close")}}},[t._v("")])]),t._v(" "),t._m(0)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"group-notice"},[a("div",[t._v("\n            system\n            更新于\n            2017年10月20日 17:43\n        ")]),t._v(" "),a("div",{staticClass:"content"},[t._v("欢迎各位来到 Emlice ")])])}],i={render:s,staticRenderFns:n};e.a=i},634:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(612),n=a.n(s);for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);var r=a(635),o=a(236),c=o(n.a,r.a,!1,null,null,null);e.default=c.exports},635:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"float-panel roomInfoPanel"},[a("div",[a("span",[t._v("群设置")]),t._v(" "),a("i",{staticClass:"icon close",on:{click:function(e){t.$emit("close")}}},[t._v("")])]),t._v(" "),a("div",{staticClass:"group-info"},[t._m(0),t._v(" "),a("div",{staticClass:"content"},[a("span",[t._v("在线人数：")]),t._v(" "),a("span",{staticClass:"onlineUsers"},[t._v(t._s(t.loadData.length)+" 人")])]),t._v(" "),a("div",{staticClass:"userList"},t._l(t.loadData,function(e,s){return a("div",{key:s,attrs:{"data-user":e.name},on:{click:function(a){t.$emit("startChat",e.name),t.$emit("close")}}},[a("img",{staticClass:"avatar-image",staticStyle:{width:"40px",height:"40px","min-width":"40px","min-height":"40px"},attrs:{src:e.avatar}}),t._v(" "),a("span",{staticClass:"text-ellipsis-2"},[t._v(t._s(e.name))])])})),t._v(" "),a("input",{attrs:{type:"file",accept:"image/*"}})]),t._v(" "),t._m(1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("span",[t._v("管理员：")]),t._v(" "),a("span",[t._v("无")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"group-info-exit"},[a("button",[t._v("退出群组")])])}],i={render:s,staticRenderFns:n};e.a=i},636:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(613),n=a.n(s);for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);var r=a(637),o=a(236),c=o(n.a,r.a,!1,null,null,null);e.default=c.exports},637:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"expression"},[a("div",{staticClass:"default-expression"},t._l(t.$store.state.expression.baidu.data,function(e,s){return a("div",{key:s},[a("div",{style:"background-position: left -"+30*s+"px;background-image: url("+t.baidu_address+");",on:{click:function(e){t.$emit("send",t.$store.state.expression.baidu.data[s],"expression"),t.$emit("close")}}})])})),t._v(" "),a("div",{staticClass:"select-panel"},[t._m(0),t._v(" "),a("div",{on:{click:function(e){t.$emit("unfinished")}}},[a("img",{attrs:{src:"data:image/png;base64,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"}})]),t._v(" "),a("div",{on:{click:function(e){t.$emit("unfinished")}}},[a("img",{attrs:{src:"https://assets.suisuijiang.com/images/collect-expression.05769.png"}})])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"selected"},[a("img",{attrs:{src:"https://assets.suisuijiang.com/images/default-expression.f7d7c.png"}})])}],i={render:s,staticRenderFns:n};e.a=i},638:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(614),n=a.n(s);for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);var r=a(639),o=a(236),c=o(n.a,r.a,!1,null,null,null);e.default=c.exports},639:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loadData.Data?a("div",{staticClass:"user-info"},[a("div",[a("i",{staticClass:"icon",on:{click:function(e){t.$emit("close")}}},[t._v("")]),t._v(" "),a("div",{staticClass:"background-image",style:"background-image: url("+t.loadData.Data.avatar+");"}),t._v(" "),a("div",{staticClass:"background-mask"}),t._v(" "),a("div",{staticClass:"content"},[a("img",{staticClass:"avatar-image",staticStyle:{width:"80px",height:"80px","min-width":"80px","min-height":"80px"},attrs:{src:t.loadData.Data.avatar}}),a("span",[t._v(t._s(t.loadData.Data.name))]),t._v(" "),a("div",{staticClass:"icon-list"},[t.loadData.Data.github?a("a",{staticClass:"icon",attrs:{title:"github",href:"//"+t.loadData.Data.github,rel:"noopener noreferrer",target:"_blank"}},[t._v("")]):t._e(),t._v(" "),t.loadData.Data.website?a("a",{staticClass:"icon",staticStyle:{position:"relative",top:"3px"},attrs:{title:"website",href:"//"+t.loadData.Data.website,rel:"noopener noreferrer",target:"_blank"}},[t._v("")]):t._e(),t._v(" "),t.loadData.Data.qq?a("a",{staticClass:"icon",attrs:{title:"qq",href:"tencent://message/?uin="+t.loadData.Data.qq,rel:"noopener noreferrer",target:"_blank"}},[t._v("")]):t._e()])])]),t._v(" "),a("div",{staticClass:"normal-status"},[a("div",[a("div",[t._m(0),t._v(" "),a("div",[a("span",[t._v(t._s(t._f("sexFilter")(t.loadData.Data.sex)))]),t._v(" "),a("span",[t._v(t._s(t._f("birthdayFilter")(t.loadData.Data.birthday)))]),t._v(" "),a("span",[t._v(t._s(t.loadData.duration)+"天")]),t._v(" "),a("span",[t._v(t._s(t._f("placeFilter")(t.loadData.Data.place)))])])])]),t._v(" "),a("div",[a("button",{on:{click:t.loadChat}},[t._v("发起聊天")])])])]):t._e()},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",[t._v("性别:")]),t._v(" "),a("span",[t._v("年龄:")]),t._v(" "),a("span",[t._v("时长:")]),t._v(" "),a("span",[t._v("位置:")])])}],i={render:s,staticRenderFns:n};e.a=i},640:function(t,e,a){"use strict";function s(t){a(641)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(615),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);var o=a(643),c=a(236),l=s,u=c(i.a,o.a,!1,l,"data-v-f95b55fc",null);e.default=u.exports},641:function(t,e,a){var s=a(642);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(596)("289a9a3c",s,!0,{})},642:function(t,e,a){e=t.exports=a(595)(!1),e.push([t.i,".search-box .search-val[data-v-f95b55fc]{margin-bottom:0}.mu-list[data-v-f95b55fc]{min-height:600px}",""])},643:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("mu-drawer",{attrs:{left:"",open:t.open,docked:!1},on:{close:function(e){t.toggle()}}},[a("mu-appbar",{attrs:{title:"Contacts List"}}),t._v(" "),a("mu-paper",[a("mu-bottom-nav",{attrs:{value:t.bottomNav,shift:""},on:{change:t.handleChange}},[a("mu-bottom-nav-item",{attrs:{value:"contacts",title:"Contacts",icon:"books"}}),t._v(" "),a("mu-bottom-nav-item",{attrs:{value:"search",title:"Search",icon:"search"}})],1)],1),t._v(" "),t.contactsListState?a("mu-list",[a("mu-list",[a("mu-sub-header",[t._v("我的联系人")]),t._v(" "),t._l(t.myContactsList,function(e,s){return a("mu-list-item",{key:s,attrs:{title:e.name},on:{click:function(a){t.loadChat(e)}}},[a("mu-avatar",{attrs:{slot:"leftAvatar",src:e.avatar},slot:"leftAvatar"}),t._v(" "),a("mu-icon",{attrs:{slot:"right",value:"chat_bubble"},slot:"right"})],1)})],2)],1):a("mu-list",[a("div",{staticClass:"search-box"},[a("mu-text-field",{staticClass:"search-val",attrs:{hintText:"搜索联系人",type:"text",icon:"search"},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}}),t._v(" "),a("mu-raised-button",{attrs:{label:"查找",fullWidth:""},on:{click:t.searchUser}})],1),t._v(" "),a("mu-list",[a("mu-sub-header",[t._v("查询结果")]),t._v(" "),t._l(t.searchUserRes,function(e,s){return a("mu-list-item",{key:s,attrs:{title:e.name}},[a("mu-avatar",{attrs:{slot:"leftAvatar",src:e.avatar},slot:"leftAvatar"}),t._v(" "),a("mu-icon",{attrs:{slot:"right",value:"add"},on:{click:function(a){t.addContacts(e)}},slot:"right"})],1)})],2)],1),t._v(" "),a("mu-divider"),t._v(" "),a("mu-list-item",{attrs:{title:"Close"},nativeOn:{click:function(e){t.open=!1}}})],1)],1)},n=[],i={render:s,staticRenderFns:n};e.a=i},644:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body"},[a("div",{staticClass:"user-list"},[a("mu-list-item",{attrs:{title:"联系人"},on:{click:t.openContactsList}}),t._v(" "),t._l(t.userList,function(e,s){return a("div",{key:s,staticClass:"user-list-item",attrs:{"data-user":e.userID},on:{click:function(a){t.loadChatPanel(e)}}},[a("img",{staticClass:"avatar-image",attrs:{src:e.avatar,alt:""}}),t._v(" "),a("div",{staticClass:"unread"},[t._v(t._s(t.myUserListArr[e.userID].noRead))]),t._v(" "),a("div",{staticClass:"content"},[a("div",[a("p",[t._v(t._s(e.name))]),t._v(" "),a("p",[t._v(t._s(e.messageInfo.date))])]),t._v(" "),a("div",[a("p",[t._v(t._s(e.messageInfo.message))])])])])})],2),t._v(" "),t.chatPanelFlag?a("div",{staticClass:"empty-chat-panel",attrs:{"chat-type":"empty"}}):a("div",{staticClass:"chat-panel",attrs:{"chat-type":""}},[a("div",{staticClass:"chat-panel-header"},[a("div",[a("img",{staticClass:"avatar-image",staticStyle:{width:"40px",height:"40px","min-width":"40px","min-height":"40px"},attrs:{src:t.currentChatUserInfo.avatar}}),t._v(" "),a("p",[t._v(t._s(t.currentChatUserInfo.name))]),t._v(" "),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.secretPanel&&t.$store.state.typingState,expression:"secretPanel && $store.state.typingState"}]},[t._v("对方正在输入...")])])],1),t._v(" "),t.secretPanel?t._e():a("div",[a("div",{staticClass:"roomNotice",staticStyle:{margin:"auto 8px"},on:{click:function(e){t.$store.commit("UPDATE_ROOMNOTICESTATE",!0)}}},[a("i",{staticClass:"icon",attrs:{title:"公告"}},[t._v("")])]),t._v(" "),a("div",{staticClass:"roomInfo",staticStyle:{margin:"auto 8px"},on:{click:function(e){t.$store.commit("UPDATE_ROOMINFOSTATE",!0)}}},[a("i",{staticClass:"icon",attrs:{title:"关于"}},[t._v("")])])])]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"messageList",staticClass:"message-list",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.2)"}},t._l(t.currentChatData,function(e,s){return a("div",{key:s,staticClass:"message-list-item"},[a("div",{staticClass:"native-message",class:{"message-self":e.from===t.userInfo.name}},[a("img",{staticClass:"avatar-image user-icon",attrs:{src:e.avatar,alt:e.avatar,"data-username":e.from},on:{click:function(a){t.getUserPanel(e.from)}}}),t._v(" "),a("div",[a("div",[a("span",{staticClass:"message-username"},[t._v(t._s(e.from))]),t._v(" "),a("span",[t._v(t._s(new Date(e.date).format("hh:mm:ss")))])]),t._v(" "),["code"===e.type?a("div",{ref:"codeBlock",refInFor:!0,staticClass:"code"},[a("pre",[a("code",[t._v(t._s(e.message))])])]):"expression"===e.type||"#"===e.message.charAt(0)?a("div",{staticClass:"text"},[a("div",{domProps:{innerHTML:t._s(t.expressionProcess(e))}})]):"printscreen"===e.type?a("div",{ref:"preview",refInFor:!0,staticClass:"image"},[a("img",{staticStyle:{"max-height":"200px"},attrs:{"data-original":e.message,src:e.message,onerror:"this.src='/images/imgError.jpg'"}})]):a("div",{domProps:{innerHTML:t._s(t.normalSmartProcess(e.message,e.type))}})]],2)])])})),t._v(" "),a("div",{staticClass:"toolbar"},[a("div",{on:{click:function(e){t.$store.commit("UPDATE_EXPRESSIONSTATE",!0)}}},[a("i",{staticClass:"icon",attrs:{title:"表情"}},[t._v("")])]),t._v(" "),a("div",{on:{click:t.unfinished}},[a("i",{staticClass:"icon",attrs:{title:"图片"}},[t._v("")])]),t._v(" "),a("div",{on:{click:function(e){t.$store.commit("UPDATE_CODEINPUTSTATE",!0)}}},[a("i",{staticClass:"icon",attrs:{title:"代码"}},[t._v("")])]),t._v(" "),a("input",{staticClass:"image-input",attrs:{type:"file",accept:"image/png,image/jpeg,image/gif"}})]),t._v(" "),a("div",{staticClass:"input-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],ref:"inputMsg",attrs:{type:"text",placeholder:"输入消息",maxlength:"1024"},domProps:{value:t.message},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.sendMessage(t.message,"normal","message")},input:[function(e){e.target.composing||(t.message=e.target.value)},t.typingEmit],paste:t.pasteMsg}})]),t._v(" "),t.secretPanel?t._e():[a("transition",{attrs:{name:"silde-rightIn"}},[a("panel-room-notice-module",{directives:[{name:"show",rawName:"v-show",value:t.roomNoticeState,expression:"roomNoticeState"}],on:{close:function(e){t.$store.commit("UPDATE_ROOMNOTICESTATE",!1)}}})],1),t._v(" "),a("transition",{attrs:{name:"silde-rightIn"}},[a("panel-room-info-module",{directives:[{name:"show",rawName:"v-show",value:t.roomInfoState,expression:"roomInfoState"}],attrs:{data:t.onlineUsers},on:{startChat:t.getUserPanel,close:function(e){t.$store.commit("UPDATE_ROOMINFOSTATE",!1)}}})],1)],t._v(" "),a("transition",{attrs:{name:"scale"}},[a("panel-expression-module",{directives:[{name:"show",rawName:"v-show",value:t.expressionState,expression:"expressionState"}],on:{send:t.sendMessage,close:function(e){t.$store.commit("UPDATE_EXPRESSIONSTATE",!1)},unfinished:t.unfinished}})],1),t._v(" "),a("transition",{attrs:{name:"scale"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.codeInputState,expression:"codeInputState"}],staticClass:"code-input"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{placeholder:"输入要展示的代码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),a("div",[a("button",{staticClass:"sendCode",on:{click:function(e){t.sendMessage(t.code,"code","code")}}},[t._v("发送")]),t._v(" "),a("button",{staticClass:"cancelCode",on:{click:function(e){t.$store.commit("UPDATE_CODEINPUTSTATE",!1)}}},[t._v("取消")])])])]),t._v(" "),a("transition",{attrs:{name:"scale"}},[a("panel-user-info-module",{directives:[{name:"show",rawName:"v-show",value:t.userPanelState,expression:"userPanelState"}],attrs:{data:t.userPanelInfo},on:{chat:t.loadChatPanel,close:function(e){t.$store.commit("UPDATE_USERPANELSTATE",!1)}}})],1)],2),t._v(" "),a("contacts-module",{attrs:{lock:t.contactsPanelLock},on:{loadChatPanel:t.loadChatPanel}})],1)},n=[],i={render:s,staticRenderFns:n};e.a=i}});